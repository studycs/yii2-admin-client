import{cZ as V,u as _,r as n,o as c,c as x,w as e,b as s,d as U,m as g,b5 as D,cj as F,aP as N,a9 as P,j as O,F as T,aT as v,e as C,aF as q,g as S}from"./index.b0e1550a.js";import{C as E}from"./index.9a44580e.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import"./index.13ccca11.js";import{i as G}from"./index.a402f9d8.js";import{_ as z}from"./index.764bd5c9.js";import{G as A,b as H}from"./ip.3e57faff.js";import{U as L}from"./index.1b1a7df7.js";import"./index.7dd997be.js";import{C as M}from"./CloudUploadOutlined.b0abe14b.js";import{S as Z}from"./Spin.83ba1358.js";import{U as J}from"./UploadOutlined.8feb67ab.js";import"./vuedraggable.umd.15cba163.js";import"./index.50a7696f.js";import"./css.1dd79e5e.js";import"./index.d4371571.js";import"./index.79d1eddb.js";import"./useMaxLevel.2bdcb2e5.js";import"./Group.ef3b103e.js";import"./index.92aa3868.js";import"./RadioButton.4b1c6045.js";import"./CaretUpOutlined.0f21e912.js";import"./iconUtil.035bdc1b.js";import"./DeleteOutlined.e5f00379.js";import"./DownloadOutlined.b6ed2567.js";const K={class:"ant-upload-drag-icon"},Q=U("p",{class:"ant-upload-hint"},"\u5C06\u6587\u4EF6\u62D6\u5230\u6B64\u5904\uFF0C\u6216\u70B9\u51FB\u4E0A\u4F20",-1),W={name:"ip-import"},X=Object.assign(W,{props:{visible:Boolean,groupId:0},emits:["done","update:visible"],setup(w,{emit:u}){const{currentRoute:p}=V(),{query:b}=_(p),r=n(!1),f=t=>{u("update:visible",t)},d=({file:t})=>{if(!["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(t.type))return g.error("\u53EA\u80FD\u9009\u62E9 excel \u6587\u4EF6"),!1;if(t.size/1024/1024>10)return g.error("\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 10MB"),!1;r.value=!0,A(t,b).then(i=>{r.value=!1,g.success(i),f(!1),u("done")}).catch(i=>{r.value=!1,g.error(i.message)})};return(t,i)=>{const h=L,y=Z,B=D;return c(),x(B,{width:520,footer:null,title:"\u5BFC\u5165\u7528\u6237",visible:w.visible,"onUpdate:visible":f},{default:e(()=>[s(y,{spinning:r.value},{default:e(()=>[s(h,{accept:".xlsx","show-upload-list":!1,customRequest:d,style:{padding:"24px 0","margin-bottom":"16px"}},{default:e(()=>[U("p",K,[s(_(M))]),Q]),_:1})]),_:1},8,["spinning"])]),_:1},8,["visible"])}}}),Y={class:"ele-body"},ee=U("span",null,"\u5BFC\u5165IP",-1),te=C("\u672A\u77E5"),oe=C("\u6709\u6548"),ae=C("\u65E0\u6548"),se={name:"index"},Fe=Object.assign(se,{setup(w){const{currentRoute:u}=V(),p=n(0),b="/ip/list";F({id:1,username:"",sex:void 0});const r=()=>{d.value=!0},f=({page:o,limit:a,where:m,orders:l})=>H({...m,...l,page:o,limit:a,id:p.value});n(null),n(!1);const d=n(!1),t=n(null),i=n([]),h=o=>{var a;i.value=[],(a=t==null?void 0:t.value)==null||a.reload({page:1,where:o})},y=n([{title:"\u4EE3\u7406IP",dataIndex:"proxy"},{title:"\u8D26\u53F7",dataIndex:"proxy_account"},{title:"\u5BC6\u7801",dataIndex:"proxy_password"},{title:"\u5206\u914D\u6570\u91CF",dataIndex:"gv_count"},{title:"\u6700\u540E\u5206\u914D",dataIndex:"gv_account",customRender:({text:o})=>o||"\u672A\u5206\u914D"},{title:"\u72B6\u6001",key:"status",dataIndex:"status"},{title:"\u5BFC\u5165\u65F6\u95F4",dataIndex:"add_time",customRender:({text:o})=>N(o)}]);return P(u,o=>{const{path:a}=_(o);if(a!==b)return;const{query:m}=_(u),l=m.id;!l||(p.value=l)},{immediate:!0}),(o,a)=>{const m=q,l=S,I=z,$=G,j=E;return c(),O("div",Y,[s(j,{bordered:!1},{default:e(()=>[s($,{ref_key:"tableRef",ref:t,columns:y.value,datasource:f},{toolbar:e(()=>[s(l,null,{default:e(()=>[s(m,{type:"primary",class:"ele-btn-icon",onClick:r},{icon:e(()=>[s(_(J))]),default:e(()=>[ee]),_:1})]),_:1})]),bodyCell:e(({column:k,record:R})=>[k.key==="status"?(c(),O(T,{key:0},[R.status===0?(c(),x(I,{key:0,color:"red"},{default:e(()=>[te]),_:1})):v("",!0),R.status===1?(c(),x(I,{key:1,color:"green"},{default:e(()=>[oe]),_:1})):v("",!0),R.status===2?(c(),x(I,{key:2,color:"red"},{default:e(()=>[ae]),_:1})):v("",!0)],64)):v("",!0)]),_:1},8,["columns"])]),_:1}),s(X,{visible:d.value,"onUpdate:visible":a[0]||(a[0]=k=>d.value=k),groupId:p.value,onDone:h},null,8,["visible","groupId"])])}}});export{Fe as default};
