import{cZ as k,cj as v,r as N,a9 as B,u as t,o as d,j as f,b as o,w as a,d as c,t as n,F,k as w,c as p,e as C,aT as D,aP as V,dg as j,m as I,c5 as P,aQ as R,c6 as S}from"./index.b0e1550a.js";import{C as U}from"./index.9a44580e.js";import{_ as q}from"./index.764bd5c9.js";import{g as E}from"./index.e6a5db54.js";const O={class:"ele-body"},A={class:"ele-text-secondary"},H={class:"ele-text-secondary"},L={class:"ele-text-secondary"},Q={class:"ele-text-secondary"},Z={class:"ele-text-secondary"},z={name:"SystemUserDetails"},X=Object.assign(z,{setup(G){const m="/system/user/details",{currentRoute:u}=k(),{form:s,assignFields:b}=v({userId:void 0,username:"",nickname:"",sexName:"",phone:"",roles:[],createTime:void 0,status:void 0}),_=N(!0),g=()=>{const{query:l}=t(u),r=l.id;!r||s.userId===Number(r)||(_.value=!0,E(Number(r)).then(e=>{_.value=!1,b({...e,createTime:V(e.createTime)}),t(u).path===m&&j(e.nickname+"\u7684\u4FE1\u606F")}).catch(e=>{_.value=!1,I.error(e.message)}))};return B(u,l=>{const{path:r}=t(l);r===m&&g()},{immediate:!0}),(l,r)=>{const e=P,h=q,x=R,y=S,T=U;return d(),f("div",O,[o(T,{title:"\u57FA\u672C\u4FE1\u606F",bordered:!1},{default:a(()=>[o(y,{class:"ele-form-detail","label-col":{md:2,sm:4,xs:6},"wrapper-col":{md:22,sm:20,xs:18}},{default:a(()=>[o(e,{label:"\u8D26\u53F7"},{default:a(()=>[c("div",A,n(t(s).username),1)]),_:1}),o(e,{label:"\u7528\u6237\u540D"},{default:a(()=>[c("div",H,n(t(s).nickname),1)]),_:1}),o(e,{label:"\u6027\u522B"},{default:a(()=>[c("div",L,n(t(s).sexName),1)]),_:1}),o(e,{label:"\u624B\u673A\u53F7"},{default:a(()=>[c("div",Q,n(t(s).phone),1)]),_:1}),o(e,{label:"\u89D2\u8272"},{default:a(()=>[(d(!0),f(F,null,w(t(s).roles,i=>(d(),p(h,{key:i.roleId,color:"blue"},{default:a(()=>[C(n(i.roleName),1)]),_:2},1024))),128))]),_:1}),o(e,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:a(()=>[c("div",Z,n(t(s).createTime),1)]),_:1}),o(e,{label:"\u72B6\u6001"},{default:a(()=>[typeof t(s).status=="number"?(d(),p(x,{key:0,status:["processing","error"][t(s).status],text:["\u6B63\u5E38","\u51BB\u7ED3"][t(s).status]},null,8,["status","text"])):D("",!0)]),_:1})]),_:1})]),_:1})])}}});export{X as default};
